"use strict";(globalThis.webpackChunkclient=globalThis.webpackChunkclient||[]).push([[7574],{67574:(e,t,r)=>{r.d(t,{f:()=>S});var n=r(52322),l=r(26642),i=r(18530),a=r(72510),o=r(17306),s=r(12373),u=r(5914),z=r(46953),c=r(48213),f=r(17848),b=r(38182),d=r(33551),h=r(58337),G=r(96451),g=r(70769),I=r(85922),m=r(99256),p=r(80134);let x=e=>{let{notifier$:t,footerRefOption$:r}=e;return e=>{let n=(0,c.zG)(e,p.UI(e=>{let[t,r,n,l]=e;return{disableInfiniteScroll:t,feedDataFetcherParams:r,intersectionObserverRoot:n,intersectionObserverRootMarginBottom:l}})),l=(0,c.zG)(n,p.DZ(e=>{let{intersectionObserverRoot:t}=e;return t}),p.xb()),i=(0,c.zG)(n,p.UI(e=>{let{intersectionObserverRootMarginBottom:t}=e;return t??2e3}),p.xb()),a=(0,c.zG)(n,p.UI(e=>{let{feedDataFetcherParams:t}=e;return t.page}),p.xb()),o=(0,c.zG)(p.aj([r,l,i,a]),p.wt(e=>{let[t,r,n]=e;return(0,c.zG)(t,z.g_((0,c.a9)(p.E_),e=>(0,c.zG)(b.LO(e,{...void 0!==r?{root:r}:null,rootMargin:b.Ae({top:d.ez,right:d.ez,bottom:d.Ei(n),left:d.ez})}),p.hX(b.Yu))))})),s=(0,c.zG)(n,p.UI(e=>e.disableInfiniteScroll),p.xb());return(0,c.zG)(n,p.UP(p.TS((0,c.zG)(p.aj([o,s]),p.hX(e=>{let[t,r]=e;return!1===r})),t)))}},D=e=>t=>{let r=(0,c.zG)(t,p.UI(e=>{let[t,r,n,l]=e;return{hasFetchedAllPages:t,feedDataFetcherParams:r,feedDataFetcher:n,dependencies:l}})),n=(0,c.zG)(r,p.UP(e),p.EB(e=>{let{feedDataFetcherParams:t}=e;return t.page}),p.oE(e=>{let{hasFetchedAllPages:t}=e;return!1===t}));return(0,c.zG)(n,p.Mm(r,(e,t)=>t),p.zg(e=>{let{feedDataFetcherParams:t,feedDataFetcher:r,dependencies:n}=e;return(0,c.zG)(r(t),m.nn(n),I.UI(e=>{let[t]=e;return t}),I.XD(3))}))},U=e=>{let t=(0,G.D)(),r=(0,g.m)(x({notifier$:e.notifier$,footerRefOption$:e.footerRefOption$}),[e.disableInfiniteScroll,e.feedDataFetcherParams,e.intersectionObserverRoot,e.intersectionObserverRootMarginBottom]),n=[e.hasFetchedAllPages,e.feedDataFetcherParams,e.feedDataFetcher,t],l=(0,g.m)(D(r),n);(0,h.Rd)(l)},P=e=>{let{total:t,perPage:r}=e;return Math.ceil(t/r)},j=e=>e.lastPageFetched>=P(e),E=e=>{let{lastPageFetched:t,perPage:r}=e;return{page:t+1,perPage:r}},R=e=>{let{feedState:t,feedItems:r,renderItems:o,renderLoadingFooter:s,disableInfiniteScroll:z,...b}=e,[d,h]=(0,l.m)(e=>(0,c.zG)(e,u.DZ)),G=i.Yen(()=>E(t),[t]),g=i.Yen(()=>j(t),[t]);return U({...b,disableInfiniteScroll:z,feedDataFetcherParams:G,hasFetchedAllPages:g,footerRefOption$:h}),(0,n.jsxs)(i.ZCY,{children:[o({items:r,total:t.total}),(0,n.jsx)(i.ZCY,{...(0,f.Nn)(a.of),ref:d}),!1===g&&!1===z&&(t.isLoading??!0)&&s()]})},S=e=>{let{feedStateOption:t,feedItemsOption:r,renderEmpty:l,renderPlaceholder:a,renderFooter:u,disableInfiniteScroll:f,...b}=e;return(0,c.zG)(z.gz(t,r),z.EQ(a,e=>{let[t,r]=e,a=j(t),d=a||f||o.xbD(r);return(0,n.jsxs)(i.PRT,{children:[(0,c.zG)(r,s.nI,z.g_(l,e=>(0,n.jsx)(R,{...b,feedState:t,feedItems:e,disableInfiniteScroll:f}))),d&&u({isEmpty:o.xbD(r),hasFetchedAllPages:a,isInfiniteScrollDisabled:f})]})}))}}}]);